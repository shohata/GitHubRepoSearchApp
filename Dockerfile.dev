# 開発環境用Dockerfile
FROM node:22.19.0-alpine

WORKDIR /app

# pnpmのインストール
RUN corepack enable && corepack prepare pnpm@latest --activate

# 依存関係ファイルをコピー
COPY package.json pnpm-lock.yaml* ./

# 依存関係をインストール
RUN pnpm install

# ソースコードをコピー（ボリュームマウントで上書きされる）
COPY . .

# ポートを公開
EXPOSE 3000

# 開発サーバーを起動
CMD ["pnpm", "dev"]
